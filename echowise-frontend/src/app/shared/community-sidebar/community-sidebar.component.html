<div class="sidebar-container">
    <h3>Communities</h3>
    <div *ngFor="let community of communities">
        <div class="community-item">
            <input type="radio" name="community" [value]="community.name" (change)="selectCommunity(community.name)" />
            <span>{{ community.name }}</span>
            <button class="add-button" (click)="openCreateDiscussionGroup(community.name)">+</button>
        </div>
        <div class="discussion-rooms" *ngIf="roomsByCommunity[community.code]?.length">
            <div *ngFor="let room of roomsByCommunity[community.code]">
                <input type="radio" name="room" [value]="room.name" />
                <span>{{ room.name }}</span>
            </div>
        </div>
    </div>
    <div class="buttons-container">
        <button class="join-button" (click)="showJoinPopup()">+ Join</button>
        <button class="new-button" (click)="showCreatePopup()">+ New</button>
    </div>

    <!-- Create Popup -->
    <app-create-community *ngIf="isCreatePopupVisible" (popupClosed)="closeCreatePopup()"></app-create-community>
    <app-join-community *ngIf="isJoinPopupVisible" (popupClosed)="closeJoinPopup()"></app-join-community>
</div>