<div class="question-details">
    <!-- Question Section -->
    <div class="back">
        <button (click)="navigateBack()">
            <span>&#8592;</span>
        </button>
    </div>
    <br>
    <div class="question-header">
        <h2>{{ question.title }}</h2>
        <p>{{ question.description }}</p>
        <small>Posted by: {{ question.username }}</small>
    </div>

    <!-- Answers Section -->
    <div class="answers-section">
        <h3>Answers</h3>
        <div *ngFor="let answer of answers; let i = index" class="answer">
            <p>{{ answer.content }}</p>
            <div class="answer-details">
                <button (click)="handleVote(answer.answerId, 'UPVOTE')">Upvote</button>
                <button (click)="handleVote(answer.answerId, 'DOWNVOTE')">Downvote</button>
                <span>Votes: {{ answer.voteCount }}</span>
                <small>Posted by: {{ answer.username }}</small>
                <small>Created on: {{ answer.creationDate | date:'medium' }}</small>
                <span *ngIf="answer.isAccepted" class="accepted-answer">âœ” Accepted Answer</span>

                <button *ngIf="answer.username===thisUserName" (click)="showUpdatePopup(answer)">Update</button>
                <button *ngIf="answer.username===thisUserName" (click)="deleteAnswer(answer.answerId)">Delete</button>

            </div>
        </div>
    </div>

    <!-- Update Answer Popup -->
    <div *ngIf="isUpdatePopupVisible" class="popup-container">
        <div class="popup-content">
            <h3>Update Answer</h3>
            <textarea [(ngModel)]="updatedAnswerContent" placeholder="Enter updated answer"></textarea>
            <button (click)="updateAnswer()">Submit</button>
            <button (click)="closeUpdatePopup()">Cancel</button>
        </div>
    </div>

    <!-- Add Answer Form -->
    <div class="add-answer-form">
        <h3>Add a New Answer</h3>
        <textarea id="newans" [(ngModel)]="newAnswer" placeholder="Write your answer here..."></textarea>
        <button (click)="handleAddAnswer()">Post Answer</button>
    </div>

    <!-- Back Button -->

</div>